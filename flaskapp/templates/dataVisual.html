{% extends 'base.html' %}

{% block title %}JPL UCR Project - Visualize Data{% endblock %}

{% block content %}
    <div>
        <h1>Visualize Data</h1>
    </div>
	<div id="mapid" style="width: 600px; height:400px; position: absolute; outline: none;"></div>
	<script>
		var token = "pk.eyJ1IjoibWFrYmEwMDIiLCJhIjoiY2syOW40b3NqMHdhazNsbXNybHA2dnAzdSJ9.ihFn0ArkcGyiig4pK58uOQ";
		var addrmapbox = "https://api.tiles.mapbox.com/v4/{id}/{z}/{y}/{x}.png?access_token=";

		var val = "".concat(addrmapbox,token);
		
		var osm = L.tileLayer( 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFrYmEwMDIiLCJhIjoiY2syOW40b3NqMHdhazNsbXNybHA2dnAzdSJ9.ihFn0ArkcGyiig4pK58uOQ' , {
			maxZoom:18,
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			id: 'mapbox.streets'
		});

		var lyr = L.tilelayer('/tifs/paulitiles/./{z}/{x}/{y}.png', {tms: true, opacity: 0.7, attribution: ""});
		
		var map = L.map('mapid', {
			center: [30.1982589383, -94.7330134442],
			zoom: 4,
			minZoom: 2,
			maxZoom: 4,
			layers: [osm]
		});i

		var basemaps = {"OpenStreetmap": osm};
		var overlaymaps = {"Layer": lyr};

		var title = L.control();
		title.onAdd = function(map) {
			this._div = L.DomUtil.create('div', 'ctl title');
			this.update();
			return this._div;
		};
		title.update = function(props) {
			this._div.innerHTML = "pauli.tif";
		};
		title.addTo(map);

		var src = 'Generated by <a href="http://www.klokan.cz/projects/gdal2tiles/">GDAL2Tiles</a>, Copyright &copy; 2008 <a href="http://www.klokan.cz/">Klokan Petr Pridal</a>,  <a href="http://www.gdal.org/">GDAL</a> &amp; <a href="http://www.osgeo.org/">OSGeo</a> <a href="http://code.google.com/soc/">GSoC</a>';
        var title = L.control({position: 'bottomleft'});
        title.onAdd = function(map) {
            this._div = L.DomUtil.create('div', 'ctl src');
            this.update();
            return this._div;
        };
        title.update = function(props) {
            this._div.innerHTML = src;
        };
        title.addTo(map);
        L.control.layers(basemaps, overlaymaps, {collapsed: false}).addTo(map);
        map.fitBounds([[29.4898508766, -94.1802658885], [30.906667, -95.285761]]);

	</script>

{% endblock %}
